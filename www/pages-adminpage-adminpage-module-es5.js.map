{"version":3,"sources":["./src/app/pages/adminpage/adminpage.page.html","./src/app/pages/adminpage/adminpage.module.ts","./src/app/pages/adminpage/adminpage.page.scss","./src/app/pages/adminpage/adminpage.page.ts"],"names":[],"mappings":"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","file":"pages-adminpage-adminpage-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"gradient-background\\\">\\n    <ion-title class=\\\"ion-text-center\\\">SMS Mood Marbles</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\" (click)=\\\"logout()\\\">\\n      <ion-button>\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-card padding>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\">\\n        <ion-item>\\n          <ion-label>Projects</ion-label>\\n          <ion-select placeholder=\\\"Projects\\\" (ionChange)=\\\"setTeamValues(project)\\\" [(ngModel)]=\\\"project\\\">\\n            <ion-select-option [value]=\\\"project\\\" *ngFor=\\\"let project of projects\\\">{{project.name}} </ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\" *ngIf=\\\"project\\\">\\n        <ion-item>\\n          <ion-label>Teams</ion-label>\\n          <ion-select placeholder=\\\"Teams\\\" (ionChange)=\\\"setButtonStatus()\\\" [(ngModel)]=\\\"sTeam\\\">\\n            <ion-select-option [value]=\\\"sTeam\\\" *ngFor=\\\"let sTeam of selectedTeams\\\">{{sTeam.name}}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <ion-button expand=\\\"small\\\" [disabled]=\\\"!isDisabled\\\" (click)=\\\"getUserRatingsByDate(project, sTeam)\\\">Filter\\n        </ion-button>\\n        <ion-button expand=\\\"small\\\" [disabled]=\\\"!isDisabled\\\" (click)=\\\"reset()\\\">Reset</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-card>\\n  <ion-card class=\\\"welcome-card\\\">\\n    <ng-container *ngIf=\\\"showGraph\\\">\\n      <ion-card-header>\\n        <ion-card-title>\\n          Mood Marbles - Daily\\n        </ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        <app-line-graph [lineData]=\\\"lineData\\\"></app-line-graph>\\n      </ion-card-content>\\n    </ng-container>\\n    <ng-container *ngIf=\\\"!showGraph\\\">\\n      <p class=\\\"no-data-available\\\">Data not available for this selection</p>\\n    </ng-container>\\n  </ion-card>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminpagePage } from './adminpage.page';\n\nimport { LineGraphComponent } from '../../line-graph/line-graph.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminpagePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AdminpagePage, LineGraphComponent]\n})\nexport class AdminpagePageModule {}\n","module.exports = \"ion-content {\\n  --background: #f4f4f4;\\n}\\n\\nion-card {\\n  --background: #fff;\\n  margin: 10px 10px;\\n}\\n\\nion-select {\\n  width: 100%;\\n  max-width: 100%;\\n  padding: 0;\\n}\\n\\n.no-data-available {\\n  font-weight: bold;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zd2FteS9EZXNrdG9wL0lCTS9tb29kIG1hcmJsZXMvSVNELVRlYW1JbmZvL3NyYy9hcHAvcGFnZXMvYWRtaW5wYWdlL2FkbWlucGFnZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2FkbWlucGFnZS9hZG1pbnBhZ2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURHQTtFQUNJLFdBQUE7RUFDQSxlQUFBO0VBQ0EsVUFBQTtBQ0FKOztBREdBO0VBQ0ksaUJBQUE7RUFDQSxrQkFBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvYWRtaW5wYWdlL2FkbWlucGFnZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjZjRmNGY0O1xufVxuXG5pb24tY2FyZCB7XG4gICAgLS1iYWNrZ3JvdW5kOiAjZmZmO1xuICAgIG1hcmdpbjogMTBweCAxMHB4O1xufVxuXG5cbmlvbi1zZWxlY3Qge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAwO1xufVxuXG4ubm8tZGF0YS1hdmFpbGFibGUge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn0iLCJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogI2Y0ZjRmNDtcbn1cblxuaW9uLWNhcmQge1xuICAtLWJhY2tncm91bmQ6ICNmZmY7XG4gIG1hcmdpbjogMTBweCAxMHB4O1xufVxuXG5pb24tc2VsZWN0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMDtcbn1cblxuLm5vLWRhdGEtYXZhaWxhYmxlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { IsdAppDataService } from './../../services/isd-app-data.service';\nimport { TEAMS, PROJECTS } from './../../constants/app.constants';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-adminpage',\n  templateUrl: './adminpage.page.html',\n  styleUrls: ['./adminpage.page.scss'],\n})\nexport class AdminpagePage implements OnInit {\n  public projects: any[];\n  public teams: any[];\n  public selectedTeams: any[];\n  public project: any;\n  public sTeam: any;\n  public isDisabled = false;\n  public showGraph = true;\n  // lineData = [];\n  constructor(private appDataService: IsdAppDataService, private router: Router) { }\n\n  lineData = [\n    [{\n      \"DATE\": '09-09-2019',\n      \"VALUE\": 0\n    },\n    {\n      \"DATE\": '10-09-2019',\n      \"VALUE\": 400\n    },\n    {\n      \"DATE\": '11-09-2019',\n      \"VALUE\": 250\n    },\n    {\n      \"DATE\": '12-09-2019',\n      \"VALUE\": 140\n    }\n    ],\n    [\n      {\n        \"DATE\": '09-09-2019',\n        \"VALUE\": 430\n      },\n      {\n        \"DATE\": '10-09-2019',\n        \"VALUE\": 370\n      },\n      {\n        \"DATE\": '11-09-2019',\n        \"VALUE\": 250\n      },\n      {\n        \"DATE\": '12-09-2019',\n        \"VALUE\": 450\n      }\n    ],\n    [\n      {\n        \"DATE\": '09-09-2019',\n        \"VALUE\": 130\n      },\n      {\n        \"DATE\": '10-09-2019',\n        \"VALUE\": 270\n      },\n      {\n        \"DATE\": '11-09-2019',\n        \"VALUE\": 350\n      },\n      {\n        \"DATE\": '12-09-2019',\n        \"VALUE\": 450\n      }\n    ],\n    [\n      {\n        \"DATE\": '09-09-2019',\n        \"VALUE\": 100\n      },\n      {\n        \"DATE\": '10-09-2019',\n        \"VALUE\": 190\n      },\n      {\n        \"DATE\": '11-09-2019',\n        \"VALUE\": 200\n      },\n      {\n        \"DATE\": '12-09-2019',\n        \"VALUE\": 250\n      }\n    ]\n  ];\n\n  lineData2 = [\n    [{\n      \"DATE\": '09-09-2019',\n      \"VALUE\": 0\n    },\n    {\n      \"DATE\": '10-09-2019',\n      \"VALUE\": 400\n    },\n    {\n      \"DATE\": '11-09-2019',\n      \"VALUE\": 250\n    },\n    {\n      \"DATE\": '12-09-2019',\n      \"VALUE\": 140\n    }\n    ],\n    [\n      {\n        \"DATE\": '09-09-2019',\n        \"VALUE\": 430\n      },\n      {\n        \"DATE\": '10-09-2019',\n        \"VALUE\": 370\n      },\n      {\n        \"DATE\": '11-09-2019',\n        \"VALUE\": 250\n      },\n      {\n        \"DATE\": '12-09-2019',\n        \"VALUE\": 450\n      }\n    ],\n    [\n      {\n        \"DATE\": '09-09-2019',\n        \"VALUE\": 130\n      },\n      {\n        \"DATE\": '10-09-2019',\n        \"VALUE\": 270\n      },\n      {\n        \"DATE\": '11-09-2019',\n        \"VALUE\": 350\n      },\n      {\n        \"DATE\": '12-09-2019',\n        \"VALUE\": 450\n      }\n    ],\n    [\n      {\n        \"DATE\": '09-09-2019',\n        \"VALUE\": 100\n      },\n      {\n        \"DATE\": '10-09-2019',\n        \"VALUE\": 190\n      },\n      {\n        \"DATE\": '11-09-2019',\n        \"VALUE\": 200\n      }\n    ]\n  ];\n  ngOnInit() {\n    this.teams = TEAMS;\n    this.projects = PROJECTS;\n    // this.getAllUserRatings();\n  }\n\n  getAllUserRatings() {\n    this.appDataService.getAllUserRatings().subscribe(rating => {\n      this.lineData = rating;\n      this.checkGraphResponse();\n    });\n    this.project = '';\n    this.sTeam = '';\n  }\n\n  reset() {\n    // console.log(this.lineData2)\n    // this.lineData = [...this.lineData2];\n  }\n\n  getUserRatingsByDate(project, team) {\n    this.appDataService.getUserRatingsByDate(`user_project=${project.id}&user_team=${team.id}`).subscribe(rating => {\n      this.lineData = rating;\n      this.checkGraphResponse();\n    });\n  }\n\n  setTeamValues(sProject) {\n    this.sTeam = null;\n    this.selectedTeams = this.teams.filter(team => team.project_id === sProject.id);\n  }\n\n  setButtonStatus() {\n    if (this.project && this.sTeam) {\n      this.isDisabled = true;\n    } else {\n      this.isDisabled = false;\n    }\n  }\n  logout() {\n    this.appDataService.logout().subscribe(result => {\n      this.router.navigate(['/isd-login']);\n    });\n  }\n\n  checkGraphResponse() {\n    this.showGraph = false;\n    this.lineData.forEach((d, k) => {\n      if (d.length > 0) {\n        this.showGraph = true;\n      }\n    });\n  }\n}\n"],"sourceRoot":""}